{
  "query": "CREATE TABLE `cadence_steps` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`cadenceId` int NOT NULL,\n\t`stepNumber` int NOT NULL,\n\t`type` enum('email','phone_call','whatsapp','linkedin') NOT NULL,\n\t`delayDays` int NOT NULL,\n\t`subject` varchar(255),\n\t`content` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `cadence_steps_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `cadences` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `cadences_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `conversion_metrics` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`fromStageId` int NOT NULL,\n\t`toStageId` int NOT NULL,\n\t`leadId` int NOT NULL,\n\t`conversionDate` timestamp NOT NULL DEFAULT (now()),\n\t`daysInStage` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `conversion_metrics_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `funnel_stages` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`order` int NOT NULL,\n\t`color` varchar(7) NOT NULL DEFAULT '#3B82F6',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `funnel_stages_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `interactions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`type` enum('email','phone_call','meeting','whatsapp','linkedin','note') NOT NULL,\n\t`subject` varchar(255),\n\t`description` text,\n\t`duration` int,\n\t`result` varchar(100),\n\t`scheduledFor` datetime,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `interactions_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `lead_cadences` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`cadenceId` int NOT NULL,\n\t`startedAt` timestamp NOT NULL DEFAULT (now()),\n\t`completedAt` timestamp,\n\t`currentStep` int NOT NULL DEFAULT 0,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `lead_cadences_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `leads` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`email` varchar(320),\n\t`phone` varchar(20),\n\t`company` varchar(255),\n\t`position` varchar(255),\n\t`origin` varchar(100),\n\t`estimatedValue` decimal(12,2),\n\t`funnelStageId` int NOT NULL,\n\t`assignedTo` int,\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`lastContactedAt` timestamp,\n\tCONSTRAINT `leads_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `tasks` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`title` varchar(255) NOT NULL,\n\t`description` text,\n\t`dueDate` datetime,\n\t`reminderTime` datetime,\n\t`status` enum('pending','completed','cancelled') NOT NULL DEFAULT 'pending',\n\t`priority` enum('low','medium','high') NOT NULL DEFAULT 'medium',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`completedAt` timestamp,\n\tCONSTRAINT `tasks_id` PRIMARY KEY(`id`)\n);\nALTER TABLE `cadence_steps` ADD CONSTRAINT `cadence_steps_cadenceId_cadences_id_fk` FOREIGN KEY (`cadenceId`) REFERENCES `cadences`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `cadences` ADD CONSTRAINT `cadences_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_fromStageId_funnel_stages_id_fk` FOREIGN KEY (`fromStageId`) REFERENCES `funnel_stages`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_toStageId_funnel_stages_id_fk` FOREIGN KEY (`toStageId`) REFERENCES `funnel_stages`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `funnel_stages` ADD CONSTRAINT `funnel_stages_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `interactions` ADD CONSTRAINT `interactions_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `interactions` ADD CONSTRAINT `interactions_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `lead_cadences` ADD CONSTRAINT `lead_cadences_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `lead_cadences` ADD CONSTRAINT `lead_cadences_cadenceId_cadences_id_fk` FOREIGN KEY (`cadenceId`) REFERENCES `cadences`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `leads` ADD CONSTRAINT `leads_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `leads` ADD CONSTRAINT `leads_funnelStageId_funnel_stages_id_fk` FOREIGN KEY (`funnelStageId`) REFERENCES `funnel_stages`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `leads` ADD CONSTRAINT `leads_assignedTo_users_id_fk` FOREIGN KEY (`assignedTo`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `tasks` ADD CONSTRAINT `tasks_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `tasks` ADD CONSTRAINT `tasks_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2eS5JTZXQ3Jx1iv.root --database FkW66wZgwjfxMMyadWnHY4 --execute CREATE TABLE `cadence_steps` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`cadenceId` int NOT NULL,\n\t`stepNumber` int NOT NULL,\n\t`type` enum('email','phone_call','whatsapp','linkedin') NOT NULL,\n\t`delayDays` int NOT NULL,\n\t`subject` varchar(255),\n\t`content` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `cadence_steps_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `cadences` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `cadences_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `conversion_metrics` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`fromStageId` int NOT NULL,\n\t`toStageId` int NOT NULL,\n\t`leadId` int NOT NULL,\n\t`conversionDate` timestamp NOT NULL DEFAULT (now()),\n\t`daysInStage` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `conversion_metrics_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `funnel_stages` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(100) NOT NULL,\n\t`order` int NOT NULL,\n\t`color` varchar(7) NOT NULL DEFAULT '#3B82F6',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `funnel_stages_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `interactions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`type` enum('email','phone_call','meeting','whatsapp','linkedin','note') NOT NULL,\n\t`subject` varchar(255),\n\t`description` text,\n\t`duration` int,\n\t`result` varchar(100),\n\t`scheduledFor` datetime,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `interactions_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `lead_cadences` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`cadenceId` int NOT NULL,\n\t`startedAt` timestamp NOT NULL DEFAULT (now()),\n\t`completedAt` timestamp,\n\t`currentStep` int NOT NULL DEFAULT 0,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `lead_cadences_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `leads` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`userId` int NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`email` varchar(320),\n\t`phone` varchar(20),\n\t`company` varchar(255),\n\t`position` varchar(255),\n\t`origin` varchar(100),\n\t`estimatedValue` decimal(12,2),\n\t`funnelStageId` int NOT NULL,\n\t`assignedTo` int,\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`lastContactedAt` timestamp,\n\tCONSTRAINT `leads_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `tasks` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`userId` int NOT NULL,\n\t`title` varchar(255) NOT NULL,\n\t`description` text,\n\t`dueDate` datetime,\n\t`reminderTime` datetime,\n\t`status` enum('pending','completed','cancelled') NOT NULL DEFAULT 'pending',\n\t`priority` enum('low','medium','high') NOT NULL DEFAULT 'medium',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`completedAt` timestamp,\n\tCONSTRAINT `tasks_id` PRIMARY KEY(`id`)\n);\nALTER TABLE `cadence_steps` ADD CONSTRAINT `cadence_steps_cadenceId_cadences_id_fk` FOREIGN KEY (`cadenceId`) REFERENCES `cadences`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `cadences` ADD CONSTRAINT `cadences_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_fromStageId_funnel_stages_id_fk` FOREIGN KEY (`fromStageId`) REFERENCES `funnel_stages`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_toStageId_funnel_stages_id_fk` FOREIGN KEY (`toStageId`) REFERENCES `funnel_stages`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `conversion_metrics` ADD CONSTRAINT `conversion_metrics_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `funnel_stages` ADD CONSTRAINT `funnel_stages_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `interactions` ADD CONSTRAINT `interactions_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `interactions` ADD CONSTRAINT `interactions_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `lead_cadences` ADD CONSTRAINT `lead_cadences_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `lead_cadences` ADD CONSTRAINT `lead_cadences_cadenceId_cadences_id_fk` FOREIGN KEY (`cadenceId`) REFERENCES `cadences`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `leads` ADD CONSTRAINT `leads_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `leads` ADD CONSTRAINT `leads_funnelStageId_funnel_stages_id_fk` FOREIGN KEY (`funnelStageId`) REFERENCES `funnel_stages`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `leads` ADD CONSTRAINT `leads_assignedTo_users_id_fk` FOREIGN KEY (`assignedTo`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `tasks` ADD CONSTRAINT `tasks_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE no action ON UPDATE no action;\nALTER TABLE `tasks` ADD CONSTRAINT `tasks_userId_users_id_fk` FOREIGN KEY (`userId`) REFERENCES `users`(`id`) ON DELETE no action ON UPDATE no action;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 23424
}